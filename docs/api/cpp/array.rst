.. _cpp-array-class:

Array (C++)
===========

Primary NumPy-backed data container used by ``Node`` payloads.

Python counterpart: :py:class:`noder.core.Array`

Autogenerated reference: :doc:`generated/class_array`

Constructor
-----------

Signatures include default, NumPy array, string/char, copy, and scalar overloads.

Example
~~~~~~~

.. literalinclude:: ../../../tests/c++/array/test_array.cpp
   :language: cpp
   :start-after: void test_constructorEmpty() {
   :end-before: void test_constructorPyArray() {

Methods
-------

``dimensions``, ``size``, ``shape``, ``strides``
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Signatures:

- ``size_t dimensions() const``
- ``size_t size() const``
- ``std::vector<size_t> shape() const``
- ``std::vector<size_t> strides() const``

Example
^^^^^^^

.. literalinclude:: ../../../tests/c++/array/test_array.cpp
   :language: cpp
   :start-after: void test_getArrayProperties() {
   :end-before: void test_getFlatIndex() {

``getFlatIndex``
~~~~~~~~~~~~~~~~

Signature: ``size_t getFlatIndex(const std::vector<size_t>& indices) const``

Example
^^^^^^^

.. literalinclude:: ../../../tests/c++/array/test_array.cpp
   :language: cpp
   :start-after: void test_getFlatIndex() {
   :end-before: void test_getPyArray() {

``getPyArray``
~~~~~~~~~~~~~~

Signature: ``py::array getPyArray() const``

Example
^^^^^^^

.. literalinclude:: ../../../tests/c++/array/test_array.cpp
   :language: cpp
   :start-after: void test_getPyArray() {
   :end-before: void test_extractString() {

``extractString``
~~~~~~~~~~~~~~~~~

Signature: ``std::string extractString() const``

Example
^^^^^^^

.. literalinclude:: ../../../tests/c++/array/test_array.cpp
   :language: cpp
   :start-after: void test_extractString() {
   :end-before: void test_getPrintStringAndInfo() {

``print``, ``getPrintString``, ``info``
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Signatures:

- ``void print(const size_t& maxChars=80) const``
- ``std::string getPrintString(const size_t& maxChars=80) const``
- ``std::string info() const``

Example
^^^^^^^

.. literalinclude:: ../../../tests/c++/array/test_array.cpp
   :language: cpp
   :start-after: void test_getPrintStringAndInfo() {
   :end-before: void test_sharingData() {

``getItemAtIndex``
~~~~~~~~~~~~~~~~~~

Template overloads are documented in :doc:`generated/class_array`.

Example
^^^^^^^

.. literalinclude:: ../../../tests/c++/array/test_array.cpp
   :language: cpp
   :start-after: void test_sharingData() {
   :end-before: void test_arrayWithStringHasStringTrue() {

``hasString``
~~~~~~~~~~~~~

Signature: ``bool hasString() const``

Example
^^^^^^^

.. literalinclude:: ../../../tests/c++/array/test_array.cpp
   :language: cpp
   :start-after: void test_arrayWithStringHasStringTrue() {
   :end-before: void test_arrayWithUnicodeStringHasStringTrue() {

``isNone``
~~~~~~~~~~

Signature: ``bool isNone() const``

Example
^^^^^^^

.. literalinclude:: ../../../tests/c++/array/test_array.cpp
   :language: cpp
   :start-after: void test_isNone() {
   :end-before: void test_arrayWithNumbersIsNotNone() {

``isScalar``
~~~~~~~~~~~~

Signature: ``bool isScalar() const``

Example
^^^^^^^

.. literalinclude:: ../../../tests/c++/array/test_array.cpp
   :language: cpp
   :start-after: void test_isScalar() {
   :end-before: template <typename T>
   :dedent: 0

``isContiguous``, ``isContiguousInStyleC``, ``isContiguousInStyleFortran``
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Signatures:

- ``bool isContiguous() const``
- ``bool isContiguousInStyleC() const``
- ``bool isContiguousInStyleFortran() const``

Example
^^^^^^^

.. literalinclude:: ../../../tests/c++/array/test_array.cpp
   :language: cpp
   :start-after: void test_contiguity() {
   :end-before: template <typename T>
   :dedent: 0

``hasDataOfType``
~~~~~~~~~~~~~~~~~

Template overloads are documented in :doc:`generated/class_array`.

Example
^^^^^^^

.. literalinclude:: ../../../tests/c++/array/test_array.cpp
   :language: cpp
   :start-after: void test_hasDataOfType() {
   :end-before: void test_doNotHaveDataOfType() {
